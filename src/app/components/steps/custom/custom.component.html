<!-- <div class="stepsdemo-content"> -->
    <p-card>
        <ng-template pTemplate="title"> Seat Information </ng-template>
        <ng-template pTemplate="subtitle"> Choose your seat </ng-template>
        <ng-template pTemplate="content">
            <div class="p-fluid formgrid grid">
                <div *ngIf="flow" class="field">
                    <label for="fields">Select Fields</label>
                    <p-multiSelect [options]="flow.liste_champs" [(ngModel)]="selectedFields"
                    defaultLabel="Select Fields" optionLabel="name_base" [filter]="true"
                    filterPlaceholder="Search fields"></p-multiSelect>
                  
                  
                </div>
            
                  
            </div>
            <br><br>
            <div *ngIf="selectedFields.length > 0" class="table-container">
                <p-table class="table table-bordered"  [value]="selectedFields" dataKey="id" editMode="row">
                                <ng-template pTemplate="header">
                        <tr>
                            <th class="custom-header">Field Reporting</th>
                            <th class="custom-header">Operation</th>
                            <th class="custom-header">Table Join</th>
                            <th class="custom-header">Filtre</th>
                            <th class="custom-header">Col1</th>
                            <th class="custom-header">Col2</th>
                            <th class="custom-header">Is Aggregation?</th>
                            <th class="custom-header">Actions</th>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-field let-editing="editing" let-ri="rowIndex">
                        <tr [pEditableRow]="field">
                            <td>
                                <p-cellEditor>
                                    <ng-template pTemplate="input">
                                        <input pInputText type="text" [(ngModel)]="field.field_reporting">
                                    </ng-template>
                                    <ng-template pTemplate="output">
                                        {{ field.field_reporting }}
                                    </ng-template>
                                </p-cellEditor>
                            </td>
                            <td>
                                <p-cellEditor>
                                    <ng-template pTemplate="input">
                                        <input pInputText type="text" [(ngModel)]="field.operation" (click)="openDialogOperation(field)">
                                    </ng-template>
                                    <ng-template pTemplate="output">
                                        {{ field.name_base }}
                                    </ng-template>
                                </p-cellEditor>
                            </td>
                            
                
                            <td>
                                <p-cellEditor>
                                  <ng-template pTemplate="input">
                                    <input pInputText type="text" [(ngModel)]="field.tableJoin">
                                  </ng-template>
                                  <ng-template pTemplate="output">
                                    {{ field.tableJoin }}
                                  </ng-template>
                                </p-cellEditor>
                              </td>
                            <!-- <td>
                                <p-cellEditor>
                                    <ng-template pTemplate="input">
                                        <input pInputText type="text" [(ngModel)]="filtreValue">
                                    </ng-template>
                                    <ng-template pTemplate="output">
                                        {{ filtreValue }}
                                    </ng-template>
                                </p-cellEditor>
                            </td> -->
                            <td>
                                <p-cellEditor>
                                    <ng-template pTemplate="input">
                                        <input (click)="openDialogF(flow,field)" pInputText type="text"
                                            [(ngModel)]="filtreValue" />
                                    </ng-template>
                                    <ng-template pTemplate="output">
                                        {{ filtreValue }}
                                    </ng-template>
                                </p-cellEditor>
                            </td>
                            <td>
                                <p-cellEditor>
                                  <ng-template pTemplate="input">
                                    <input pInputText type="text" [(ngModel)]="field.col1">
                                  </ng-template>
                                  <ng-template pTemplate="output">
                                    {{ field.col1 }}
                                  </ng-template>
                                </p-cellEditor>
                              </td>
                              <td>
                                <p-cellEditor>
                                  <ng-template pTemplate="input">
                                    <input pInputText type="text" [(ngModel)]="field.col2">
                                  </ng-template>
                                  <ng-template pTemplate="output">
                                    {{ field.col2 }}
                                  </ng-template>
                                </p-cellEditor>
                              </td>
                              
                              <td>
                                <p-cellEditor>
                                    <ng-template pTemplate="input">
                                        <div class="p-grid">
                                            <div class="p-col">
                                                <input type="radio" name="ycustField{{ri}}" [(ngModel)]="field.ycustField" id="trueRadio{{ri}}" [value]="true" [checked]="field.ycustField === true">
                                                <label for="trueRadio{{ri}}">T</label>
                                            </div>
                                            <div class="p-col">
                                                <input type="radio" name="ycustField{{ri}}" [(ngModel)]="field.ycustField" id="falseRadio{{ri}}" [value]="false" [checked]="field.ycustField === false || !field.ycustField">
                                                <label for="falseRadio{{ri}}">F</label>
                                            </div>
                                        </div>
                                    </ng-template>
                                </p-cellEditor>
                            </td>
                            
                            <td>
                                <div class="flex align-items-center justify-content-end gap-2" style="margin-right: 50px;">
                                    <button *ngIf="!editing" pButton pRipple type="button" pInitEditableRow
                                        icon="pi pi-pencil" (click)="onRowEditInit(field)"
                                        class="p-button-rounded p-button-text"></button>
                                    <button *ngIf="editing" pButton pRipple type="button" pCancelEditableRow
                                        icon="pi pi-times" (click)="onRowEditCancel(field, ri)"
                                        class="p-button-rounded p-button-text p-button-danger"></button>
                                    <button pButton pRipple type="button" icon="pi pi-trash" (click)="onDeleteRow(ri)"
                                        class="p-button-rounded p-button-text p-button-danger"></button>
                                    <button pButton pRipple type="button" icon="pi pi-plus" (click)="openDialog(field, ri)"
                                        class="p-button-rounded p-button-text p-button-success"></button>
                                </div>
                            </td>
                        </tr>
                    </ng-template>
                    
                </p-table>
            </div>
        </ng-template>
        <ng-template pTemplate="footer">
        <div class="grid grid-nogutter justify-content-between d-flex">
            <p-button label="Back" (onClick)="prevPage()" icon="pi pi-angle-left"></p-button>
            <p-button label="Next" (onClick)="nextPage()" icon="pi pi-angle-right" iconPos="right"
                [disabled]="!allFieldsNotNull()"></p-button>
        </div></ng-template>
    </p-card>
    
<!-- </div> -->
